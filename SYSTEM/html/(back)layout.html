<!DOCTYPE html>
<html lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<title>경남 디지털혁신거점 관리자</title>
<link rel="stylesheet" href="../kditPortal/css/import.css" />
<script src="../kditPortal/js/jquery-3.7.1.js"></script>
<script src="../kditPortal/js/jquery.mCustomScrollbar.js"></script>
<script src="../kditPortal/js/common.js"></script>
<!--[if lte IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
</head>

<body>
<!-- wrapper -->
<div id="wrapper">
    <!-- header -->
    <div id="header">
        <div class="inner">
            <h1><a href="/kditPortal/admin/dashboard/Dashboard.do">경남 디지털혁신거점 GYUNGNAM DIGITAL INNOVATION HUB</a></h1>
            <!-- util -->
            <div class="util">
                <a href="#" class="tid"><img src="/kditPortal/img/admin/ico_man.png" alt=""><strong>퍼블관리자</strong> 님</a>
                <a href="/kditPortal/logout.do" class="mybtn">로그아웃</a>
            </div>
            <!--// util -->
        </div>
    </div>
    <!--// header -->

    
    <!-- gnb -->
    <div id="gnb">
        <div class="left">
            <div class="left-in">
                <!-- lnb -->
                <ul class="lnb">
                    <li class="lnb-one l1 subin curr"><!-- 현재 메뉴의 경우 curr -->
                        <a href="#" class="lnb-onea"><span>시스템관리</span></a>
                        <ul class="smenu">
                            <li class="curr"><a href="">대시보드</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one l2 subin">
                        <a href="#" class="lnb-onea"><span>사용자관리</span></a>
                        <ul class="smenu">
                            <li><a href="">코드관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one l3 subin ">
                        <a href="#" class="lnb-onea"><span>디지털혁신지원서비스</span></a>
                        <ul class="smenu">
                            <li><a href="">권한권리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one l4 subin ">
                        <a href="#" class="lnb-onea"><span>알림마당</span></a>
                        <ul class="smenu">
                            <li><a href="">메뉴관리</a></li>
                        </ul>
                    </li>

                    <li class="lnb-one l6 subin ">
                        <a href="#" class="lnb-onea"><span>게시판</span></a>
                        <ul class="smenu">
                            <li><a href="">사용자관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one l6 subin ">
                        <a href="#" class="lnb-onea"><span>교육수료증 관리</span></a>
                        <ul class="smenu">
                            <li><a href="">접속로그관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one l7 subin ">
                        <a href="#" class="lnb-onea"><span>수요만족도 관리</span></a>
                        <ul class="smenu">
                            <li><a href="">기업DB관리</a></li>
                            <li><a href="">매칭서비스관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one l8 subin ">
                        <a href="#" class="lnb-onea"><span>표준화 관리</span></a>
                        <ul class="smenu">
                            <li><a href="">시설예약현황</a></li>
                            <li><a href="">시설정보관리</a></li>
                            <li><a href="">우수기업 관리</a></li>
                            <li><a href="">우수기술 관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one l8 subin ">
                        <a href="#" class="lnb-onea"><span>통합 관리</span></a>
                        <ul class="smenu">
                            <li><a href="">게시판관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one subin ">
                        <a href="#" class="lnb-onea"><span>데이터 수집 관리</span></a>
                        <ul class="smenu">
                            <li><a href="">일반게시판</a></li>
                            <li><a href="">이미지게시판</a></li>
                            <li><a href="">교육게시판</a></li>
                        </ul>
                    </li>
                    <!-- <li class="lnb-one subin ">
                        <a href="#" class="lnb-onea"><span>팝업 관리</span></a>
                        <ul class="smenu">
                            <li><a href="">팝업관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one subin ">
                        <a href="#" class="lnb-onea"><span>교육수료증발급 관리</span></a>
                        <ul class="smenu">
                            <li><a href="">교육수료증발급 관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one subin ">
                        <a href="#" class="lnb-onea"><span>수요만족도조사 관리</span></a>
                        <ul class="smenu">
                            <li><a href="">수요만족도조사 관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one subin ">
                        <a href="#" class="lnb-onea"><span>표준화관리</span></a>
                        <ul class="smenu">
                            <li><a href="">표준단어</a></li>
                            <li><a href="">표준용어</a></li>
                            <li><a href="">표준도메인</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one subin ">
                        <a href="#" class="lnb-onea"><span>통합관리</span></a>
                        <ul class="smenu">
                            <li><a href="">카테고리관리</a></li>
                            <li><a href="">정보시스템관리</a></li>
                            <li><a href="">데이터베이스관리</a></li>
                        </ul>
                    </li>
                    <li class="lnb-one subin ">
                        <a href="#" class="lnb-onea">데이터 수집관리<span></span></a>
                        <ul class="smenu">
                            <li><a href="">OPENAPI수집관리</a></li>
                            <li><a href="">데이터수집 모니터링</a></li>
                        </ul>
                    </li> -->




                </ul>
                <!--// lnb -->
            </div>
        </div>
        <!--// left -->
        <button type="button" class="btnMenu">메뉴 닫기</button>
        <script type="text/javascript">
            var colorList = ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc', '#5470c6', '#91cc75', '#fac858', '#ee6666', '##73c0de'];
            var lineChartColor = new Array();
            var cpuUsagePieChart;
            var memUsagePieChart;
            var diskUsagePieChart;
            var cpuColorList = ['#0000FF', '#DDDDDD'];
            var memColorList = ['#009900', '#DDDDDD'];
            var diskColorList = ['#FF9900', '#DDDDDD'];

            //관리서버 사용률
            function getServerMng(hostId) {

                var params = new Object();
                params.hostId = hostId;
                var json = JSON.stringify(params);

                $.ajax({
                    type: "POST",
                    url: "/kditPortal/admin/dashboard/getServerMng.do",
                    data: JSON.stringify(params),
                    dataType: "text",
                    success: function (result) {

                        if (result) {
                            //cpu
                            setUsagePieChart(result.cpuUtilization, "cpu");
                            $("#cpuRate").text(result.cpuUtilization[0].useVal + "%");

                            //memory
                            setUsagePieChart(result.memUtilization, "mem");
                            $("#memRate").text(result.memUtilization[0].useVal + "%");

                            //disk
                            setUsagePieChart(result.diskUtilization, "disk");
                            $("#diskRate").text(result.diskUtilization[0].useVal + "%");

                            for (var i = 0; i < result.getServerMngTot.length; i++) {

                                if (result.getServerMngTot[i].se == "CPUs Number") {
                                    $("#cpuTitle").text("CPU (총 : " + result.getServerMngTot[i].msrmtVl + " )");
                                } else if (result.getServerMngTot[i].se == "Total Memory") {
                                    $("#memTitle").text("메모리 (총 : " + result.getServerMngTot[i].msrmtVl + " )");
                                } else if (result.getServerMngTot[i].se == "Total Disk") {
                                    $("#diskTitle").text("디스크 (총 : " + result.getServerMngTot[i].msrmtVl + " )");
                                }
                            }
                            $("#totServerCnt").text(result.totServerCnt + "대");
                        }
                    }
                });
            };



            function setUsagePieChart(result, se) {

                //차트 삭제
                if (se == "cpu") {
                    if (cpuUsagePieChart) {
                        cpuUsagePieChart.clear();
                    }
                } else if (se == "mem") {
                    if (memUsagePieChart) {
                        memUsagePieChart.clear();
                    }
                } else if (se == "disk") {
                    if (diskUsagePieChart) {
                        diskUsagePieChart.clear();
                    }
                }

                var itemData = new Array();

                itemData.push({ value: result[0].useVal, name: "사용" });
                itemData.push({ value: result[0].nonUseVal, name: "미사용" });
                var serieseNm = result[0].name;
                var color;

                if (se == "cpu") {
                    var dom = document.getElementById("cpuUsagePieChart");
                    cpuUsagePieChart = echarts.init(dom);
                    color = cpuColorList;
                } else if (se == "mem") {
                    var dom = document.getElementById("memUsagePieChart");
                    memUsagePieChart = echarts.init(dom);
                    color = memColorList;
                } else if (se == "disk") {
                    var dom = document.getElementById("diskUsagePieChart");
                    diskUsagePieChart = echarts.init(dom);
                    color = diskColorList;
                }

                var app = {};
                var option;
                option = {
                    tooltip: {
                        trigger: 'item'
                    },
                    color: color,
                    series: [
                        {
                            name: serieseNm,
                            type: 'pie',
                            radius: ['30%', '90%'],
                            avoidLabelOverlap: false,
                            itemStyle: {
                                borderRadius: 10,
                                borderColor: '#fff',
                                borderWidth: 2
                            },
                            label: {
                                show: false,
                                position: 'center'
                            },
                            data: itemData
                        }
                    ]
                };

                if (option && typeof option === 'object') {
                    if (se == "cpu") {
                        cpuUsagePieChart.setOption(option);
                    } else if (se == "mem") {
                        memUsagePieChart.setOption(option);
                    } else if (se == "disk") {
                        diskUsagePieChart.setOption(option);
                    }
                }

                if (se == "cpu") {
                    window.addEventListener('resize', cpuUsagePieChart.resize);
                } else if (se == "mem") {
                    window.addEventListener('resize', memUsagePieChart.resize);
                } else if (se == "disk") {
                    window.addEventListener('resize', diskUsagePieChart.resize);
                }
            };

            // 전체 바 차트
            function setBarChart() {

                var itemName = new Array();
                var itemData = new Array();

                var listTotalData = new Array();


                var dom = document.getElementById('dataSetChart');
                var myChart = echarts.init(dom, null, {
                    renderer: 'canvas',
                    useDirtyRect: false
                });
                var app = {};

                for (var j = 0; j < colorList.length; j++) {
                    lineChartColor.push(colorList[j]);
                }

                var option;

                option = {
                    color: lineChartColor,
                    tooltip: { trigger: 'axis', axisPointer: { type: 'shadow' } },
                    grid: { left: 0, top: 0, right: 0, bottom: 80 },
                    xAxis: [{ type: 'category', data: itemName, axisTick: { alignWithLabel: true } }],
                    yAxis: [{ type: 'value' }],
                    series: [{ name: '건수', type: 'bar', barWidth: '60%', data: itemData }]
                };


                if (option && typeof option === 'object') {
                    myChart.setOption(option);
                }

                window.addEventListener('resize', myChart.resize);
            }

            // 전체파이 차트
            function setPieChart(dataClctSe) {
                //수집현황(00001 : API, 00002 : SNS, 00003 : 뉴스)
                var dom;

                var itemName = new Array();
                var itemData = new Array();
                var seriesNm;
                if (dataClctSe == "00001") {
                    dom = document.getElementById('dataColctSttusRatioApi');



                    seriesNm = "OPENAPI 수집";

                }
                else if (dataClctSe == "00002") {
                    dom = document.getElementById('dataColctSttusRatioNews');

                    seriesNm = "뉴스 수집";
                }
                else if (dataClctSe == "00003") {
                    dom = document.getElementById('dataColctSttusRatioSns');

                    seriesNm = "SNS 수집";
                }
                var myChart = echarts.init(dom, null, {
                    renderer: 'canvas',
                    useDirtyRect: false
                });
                var app = {};

                var option;

                option = {
                    tooltip: { trigger: 'item' },
                    legend: { top: '5%', left: 'center' },
                    series: [
                        {
                            name: seriesNm,
                            type: 'pie',
                            radius: ['30%', '70%'],
                            avoidLabelOverlap: false,
                            itemStyle: {
                                borderRadius: 10,
                                borderColor: '#fff',
                                borderWidth: 2
                            },
                            color: ["#009efb", "#FF0000"],
                            grid: {
                                left: '1%',
                                right: '2%',
                                bottom: '3%',
                                containLabel: true
                            },
                            label: {
                                show: false,
                                position: 'center'
                            },
                            emphasis: {
                                label: {
                                    show: true,
                                    fontSize: 20,
                                    fontWeight: 'bold'
                                }
                            },
                            labelLine: {
                                show: false
                            },
                            data: itemData
                        }
                    ]
                };

                if (option && typeof option === 'object') {
                    myChart.setOption(option);
                }

                window.addEventListener('resize', myChart.resize);
            }

        </script>


        
    </div>
    <!--// gnb -->

    <!-- container -->
    <div id="container">
        <!-- content-in -->
        <div class="content-in">
            <!-- titArea -->
            <div class="titArea">
                <div class="tit">
                    <h2 class="cont-tit">타이틀</h2>
                    <div class="caution_txt">타이틀 안내 문구 타이틀 안내 문구</div>
                </div>
                <ol class="location">
                    <li>KDIT 포털</li>
                    <li>Depth01</li>
                    <li>Depth02</li>
                </ol>
            </div>
            <!--// titArea -->
            <!-- contWrap -->
            <div class="contWrap">
                <!-- cont -->
                <div class="cont">
                    콘텐츠 영역
                </div>
                <!--// cont -->
            </div>
            <!--// contWrap -->
        </div>
        <!--// content-in -->
        <p class="copy">COPYRIGHT © 2024. ALL RIGHTS RESERVED.</p>
    </div>
    <!--// container -->
    


    <!-- 팝업 -->
    <div class="popup_wrap" id="d_pop" style="display: none;">
        <input type="hidden" id="fromId" name="fromId" value="">
        <input type="hidden" id="returnVal" name="returnVal" value="">
        <div class="popup">
            <div class="popup_in">
                <div class="pop_tit">선택</div>
                <div class="pop_cont">
                    <div class="pop_txt mb25">해당 권한을 사용 중지하시겠습니까?</div>
                    <div class="tcenter">
                        <button type="button" class="btn btnNavy" id="d_pop_confirm_ok"
                            name="d_pop_confirm_ok">저장</button>
                        <button type="button" class="btn btnGray" id="d_pop_cancel"
                            name="d_pop_cancel">취소</button>
                    </div>
                </div>
                <a href="" class="btnClosePop" id="d_pop_cancel" name="d_pop_cancel">닫기</a><!-- 2024-10-10 - 추가 -->
            </div>
        </div>
    </div>
    <div class="popup_wrap" id="d_pop_alert" style="display: none;">

        <div class="popup">
            <div class="popup_in">
                <div class="pop_tit">확인</div>
                <div class="pop_cont">
                    <div class="pop_txt mb25" id="pop_alert_txt">해당 권한을 사용 중지하시겠습니까?</div>
                    <div class="tcenter">
                        <button type="button" class="btn btnNavy" id="d_pop_alert_cancel"
                            name="d_pop_cancel">확인</button>
                    </div>
                </div>
                <a href="" class="btnClosePop" id="d_pop_cancel" name="d_pop_cancel">닫기</a><!-- 2024-10-10 - 추가 -->
            </div>
        </div>
    </div>
    <div class="popup_wrap" id="d_pop_msg" style="display: none;">
        <div class="popup">
            <div class="popup_in">
                <div class="pop_tit">확인</div>
                <div class="pop_cont">
                    <div class="pop_txt mb25" id="pop_msg_txt"></div>
                    <div class="tcenter">
                        <button type="button" class="btn btn-xs btn-hsm" id="d_pop_msg_cancel"
                            name="d_pop_cancel">확인</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
    <div class="popup_wrap" id="d_pop_mv" style="display: none;">
        <div class="popup">
            <div class="popup_in">
                <div class="pop_tit">확인</div>
                <div class="pop_cont">
                    <div class="pop_txt mb25" id="pop_mv_txt"></div>
                    <div class="tcenter">
                        <button type="button" class="btn btn-blue btn-xs btn-hsm" id="d_pop_mv_cancel"
                            name="d_pop_cancel">확인</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="popup_wrap" id="d_pop_ex" style="display: none;">
        <div class="popup">
            <div class="popup_in">
                <div class="pop_tit"><strong>수집 주기 예시</strong></div>
                <div class="pop_cont">
                    <div class="pop_txt mb25" id="pop_msg_txt">
                        <table class="f_table">
                            <tbody>
                                <tr>
                                    <td class="tleft">
                                        <textarea rows="22" cols="50" readonly="">												(규칙)
                                                        * * * * * * 
                                                        1. Seconds (0-59) - * 
                                                        2. Minutes (0-59)  - * 
                                                        3. Hours (0-23)  - * 
                                                        4. Day-of-month (1-31) - * ? 
                                                        5. Month (1-12 or JAN-DEC) - * 
                                                        6. Day-of-week (1-7 or SUN-SAT) - * ? 
                                                        
                                                    (샘플)	
                                                        0 15 10 * * ? (매일 오전 10시15분에 실행 )
                                                </textarea>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="tcenter">
                        <button type="button" class="btn btn-xs btn-hsm" id="d_pop_ex_cancel"
                            name="d_pop_cancel">확인</button>
                    </div>
                </div>

            </div>
        </div>
    </div>

</div>
<!--// wrapper -->
</body>
</html>
